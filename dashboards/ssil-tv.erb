<script type='text/javascript'>
    $(function() {
    Dashing.widget_base_dimensions = [370, 340]
    Dashing.numColumns = 5
    });
</script>

<% content_for :title do %>SSIL Team Dashboard<% end %>

<div class="gridster">
    <ul>
        <!-- SSIL Logo -->
        <li data-row="1" data-col="1" data-sizex="1" data-sizey="1">
            <div data-view="Image" data-image="/ssil-logo.png"></div>
        </li>

        <!-- Github -->
        <!-- @TODO: Use environment variables -->
        <li data-row="1" data-col="1" data-sizex="1" data-sizey="1">
            <div data-id="ssilab/ssil-dashboard" data-view="GithubStats"></div>
        </li>

        <!-- Clock -->
        <li data-row="1" data-col="1" data-sizex="1" data-sizey="1">
            <div data-view="Clock"></div>
            <i class="icon-time icon-background"></i>
        </li>

        <!-- Weather -->
        <li data-row="1" data-col="1" data-sizex="1" data-sizey="1">
            <div data-id="weather" data-view="Weather"></div>
        </li>

        <!-- Seinfeld GIFs -->
        <li data-row="1" data-col="1" data-sizex="1" data-sizey="1">
            <div data-id="seinfeld" data-view="Seinfeld" ></div>
        </li>

        <!-- Trello boards -->
        <!-- @TODO: Get board colour from API -->
        <!-- @TODO: Use board name throughout instead of board ID -->
        <% ENV["TRELLO_BOARDS"].to_s.split(',').each do |board_id| %>
    		<li data-row="1" data-col="1" data-sizex="1" data-sizey="2">
              <div data-id="<%= board_id %>" data-view="List" data-title="Board '<%= board_id %>'" style="background-color: #23719f;"></div>
              <i class="icon-trello icon-background"></i>
            </li>
        <% end %>

        <!-- Travis CI status -->
        <% ENV["TRAVIS_REPOS_PRO"].to_s.split(',').each do |repo_name| %>
            <li data-row="1" data-col="1" data-sizex="1" data-sizey="1">
                <div data-id="travis-<%= repo_name %>" data-view="Travis" data-unordered="true" data-title="<%= repo_name %>"></div>
            </li>
        <% end %>

        <!-- Travis CI status -->
        <% ENV["TRAVIS_REPOS_ORG"].to_s.split(',').each do |repo_name| %>
            <li data-row="1" data-col="1" data-sizex="1" data-sizey="1">
                <div data-id="travis-<%= repo_name %>" data-view="Travis" data-unordered="true" data-title="<%= repo_name %>"></div>
            </li>
        <% end %>
    </ul>
</div>